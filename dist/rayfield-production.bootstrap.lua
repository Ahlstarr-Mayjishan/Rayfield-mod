-- AUTO-GENERATED by scripts/build-bundle.lua
local ROOT = (_G and _G.__RAYFIELD_RUNTIME_ROOT_URL) or "https://raw.githubusercontent.com/Ahlstarr-Mayjishan/Rayfield-mod/main/"
_G.__RAYFIELD_RUNTIME_ROOT_URL = ROOT
_G.__RAYFIELD_BUNDLE_MODE = "bundle_first"

local compileString = loadstring or load
if not compileString then
	error("No Lua compiler function available (loadstring/load)")
end

local function compileChunk(source, label)
	if type(source) ~= "string" then
		error("Invalid Lua source for " .. tostring(label) .. ": " .. type(source))
	end
	source = source:gsub("^\239\187\191", "")
	source = source:gsub("^\0+", "")
	local chunk, err = compileString(source)
	if not chunk then
		error("Failed to compile " .. tostring(label) .. ": " .. tostring(err))
	end
	return chunk
end

local function loadRemoteLua(path)
	local source = game:HttpGet(ROOT .. path)
	return compileChunk(source, path)()
end

loadRemoteLua("dist/rayfield-runtime-core.bundle.lua")
loadRemoteLua("dist/rayfield-runtime-ui.bundle.lua")

local bundle = _G.__RAYFIELD_BUNDLE_SOURCES or {}
local entrySource = bundle["Main loader/rayfield-modified.lua"]
if type(entrySource) ~= "string" then
	entrySource = game:HttpGet(ROOT .. "Main%20loader/rayfield-modified.lua")
end
return compileChunk(entrySource, "Main loader/rayfield-modified.lua")()
